[toc]



#### 说一说C++里的 Forward Declarations (前向声明)

##### 前言

最近又读了一下[Google C++ Style Guide](https://google.github.io/styleguide/cppguide.html), 在一开始的部分就介绍了一个老生常谈的问题` Forward Delarations 前向声明`，跟自己之前的认知有些偏差，应该是我好久没有升级大脑系统软件了，好惭愧 :-(

先说结论：**Google给出的建议是尽可能地避免使用`前向声明`，如果有需要，就直接`#include`相应的头文件。**

##### 好处

Google首先指明了使用前向声明的好处：

> 1. 前向声明可以节省编译时间，因为`#include`s会强制编译器展开并预处理更多的头文件；
> 2. 前向声明可以节省没必要的重编译时间，因为包含的头文件里可能会有一些跟当前要编译的.cc文件里不相关的部分被改动了，导致当前.cc文件被重新编译。

简言之，前向声明的好处就是节省编译时间。

##### 坏处

因为Google不建议使用前向声明，那自然是其认为前向声明是诸多缺点了，我们来看一下：

>1. 可能会隐藏类型之间的依赖关系，从而在头文件发生变化时，让用户的代码跳过了必要的重编译过程；
>2. 
>
>
